# ⚠️ ENVIRONNEMENT DE TEST UNIQUEMENT
# NE JAMAIS POINTER VERS SUPABASE CLOUD POUR LES TESTS

TZ=UTC
PORT=3333
HOST=localhost
LOG_LEVEL=silent
APP_KEY=test_key_for_testing_only_change_in_production
NODE_ENV=test

# Base de données de test - PostgreSQL Docker local
# ⚠️ INTERDICTION STRICTE : Ne jamais utiliser Supabase cloud pour les tests
DB_HOST=localhost
DB_PORT=5433
DB_USER=postgres
DB_PASSWORD=postgres
DB_DATABASE=saas_test
# App user (non-superuser) for RLS enforcement in tests
DB_APP_USER=app_user
DB_APP_PASSWORD=app_password

# Session (tests)
SESSION_DRIVER=cookie

# Frontend URL (for OAuth redirects)
FRONTEND_URL=http://localhost:3000

# Payment provider (default: stripe)
PAYMENT_PROVIDER=stripe

# Stripe (test values - will fail against real Stripe API)
STRIPE_SECRET_KEY=sk_test_placeholder_for_tests
STRIPE_WEBHOOK_SECRET=whsec_test_placeholder
STRIPE_PUBLISHABLE_KEY=pk_test_placeholder

# Paddle (test values)
#PADDLE_API_KEY=test_paddle_api_key
#PADDLE_WEBHOOK_SECRET=test_paddle_webhook_secret
#PADDLE_CLIENT_TOKEN=test_paddle_client_token
#PADDLE_ENVIRONMENT=sandbox

# LemonSqueezy (test values)
#LEMONSQUEEZY_API_KEY=test_lemonsqueezy_api_key
#LEMONSQUEEZY_WEBHOOK_SECRET=test_lemonsqueezy_webhook_secret
#LEMONSQUEEZY_STORE_ID=test_store_123

# Polar (test values)
#POLAR_ACCESS_TOKEN=test_polar_access_token
#POLAR_WEBHOOK_SECRET=test_polar_webhook_secret
#POLAR_ORGANIZATION_ID=test_org_123

# Mail (Resend) - test values for mocking
RESEND_API_KEY=re_test_placeholder_for_tests
MAIL_FROM_ADDRESS=noreply@test.com
MAIL_FROM_NAME=Test App

# Skip DNS validation for test domains (example.com, test.com, example.org)
# This allows functional tests to use fake domains without actual DNS resolution
# Unit tests mock DNS directly and don't need this flag
SKIP_DNS_VALIDATION_FOR_TEST_DOMAINS=true

# Enable plugin system in tests (required for E2E tests that test plugin features)
PLUGINS_BOOT_IN_TESTS=true
